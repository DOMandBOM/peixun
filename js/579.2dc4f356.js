"use strict";(self["webpackChunkgxy"]=self["webpackChunkgxy"]||[]).push([[579],{579:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"wrap m40"},[t("div",{staticClass:"info"},[t("div",{staticStyle:{padding:"10px 20px"}},[t("h2",{staticStyle:{"text-align":"center","margin-bottom":"40px"}},[e._v("证书查询系统")]),t("el-form",{ref:"info",attrs:{"label-position":"right","label-width":"80px",model:e.info,rules:e.rules}},[t("el-row",[t("el-col",{attrs:{span:10,offset:7}},[t("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[t("el-input",{model:{value:e.info.name,callback:function(t){e.$set(e.info,"name",t)},expression:"info.name"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:10,offset:7}},[t("el-form-item",{attrs:{label:"编号：",prop:"certificateNo"}},[t("el-input",{model:{value:e.info.certificateNo,callback:function(t){e.$set(e.info,"certificateNo",t)},expression:"info.certificateNo"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:6,offset:7}},[t("el-form-item",{attrs:{label:"验证码",prop:"code"}},[t("el-input",{model:{value:e.info.code,callback:function(t){e.$set(e.info,"code",t)},expression:"info.code"}})],1)],1),t("el-col",{attrs:{span:4,offset:1}},[t("img",{staticStyle:{"background-color":"pink",height:"38px",width:"146px",cursor:"pointer"},attrs:{id:"verifyCode"},on:{click:e.changeImg}})])],1),t("el-row",[t("el-col",{attrs:{span:17,offset:5}},[t("el-form-item",[t("el-button",{staticStyle:{width:"400px","margin-left":"100px","background-color":"#c20106",border:"0",color:"#fff"},on:{click:function(t){return e.doSure("info")}}},[e._v("查询")])],1)],1)],1)],1)],1)])])])},r=[],a=o(3198),n={name:"yiSearch",data(){return{imgVal:null,info:{name:"",certificateNo:"",code:""},rules:{name:[{type:"string",required:!0,message:"请输入名字",trigger:"blur"},{type:"string",min:2,max:20,message:"名字格式不正确",trigger:"blur"}],certificateNo:[{type:"string",required:!0,message:"请输入编号",trigger:"blur"}],code:[{type:"string",required:!0,message:"请输入验证码",trigger:"blur"}]}}},mounted(){this.getYz()},methods:{getYz(){document.querySelector("#verifyCode").src="http://ncnf.org.cn/web-api/dunsi/captcha/get?t="+(new Date).getTime()},changeImg(){this.getYz()},doSure(e){this.$refs[e].validate((async e=>{if(e){const e=await(0,a.or)(this.info),t=this.$router.resolve({path:"/stuZs"});0===e.code?(e.data?.list.length,this.info={name:"",certificateNo:"",code:""},window.open(t.href,"_blank"),localStorage.setItem("info",JSON.stringify(e.data.list[0])),localStorage.setItem("error","false")):e.code>0&&(this.info={name:"",certificateNo:"",code:""},window.open(t.href,"_blank"),localStorage.setItem("info","{}"),localStorage.setItem("error","true")),this.getYz()}}))}}},l=n,s=o(1001),c=(0,s.Z)(l,i,r,!1,null,"d9cc761a",null),f=c.exports}}]);
//# sourceMappingURL=579.2dc4f356.js.map